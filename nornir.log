2025-10-28 21:29:37,639 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show version'} on 2 hosts
2025-10-28 21:29:39,900 - nornir.core.task -    ERROR -      start() - Host 'sandbox-iosxr-1': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 1142, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 485, in connect
    self._auth(
    ~~~~~~~~~~^
        username,
        ^^^^^^^^^
    ...<9 lines>...
        passphrase,
        ^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 818, in _auth
    raise saved_exception
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 805, in _auth
    self._transport.auth_password(username, password)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\transport.py", line 1638, in auth_password
    return self.auth_handler.wait_for_response(my_event)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\task.py", line 98, in start
    r = self.task(self, **self.params)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir_netmiko\tasks\netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\inventory.py", line 476, in get_connection
    self.open_connection(
    ~~~~~~~~~~~~~~~~~~~~^
        connection=connection,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        extras=conn.extras,
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\inventory.py", line 528, in open_connection
    conn_obj.open(
    ~~~~~~~~~~~~~^
        hostname=hostname,
        ^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        configuration=configuration,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir_netmiko\connections\netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\ssh_dispatcher.py", line 410, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 493, in __init__
    self._open()
    ~~~~~~~~~~^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 498, in _open
    self.establish_connection()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\cisco\cisco_xr.py", line 11, in establish_connection
    super().establish_connection(width=width, height=height)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 1179, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_xr sandbox-iosxr-1.cisco.com:22


Authentication failed.

2025-10-28 21:29:42,950 - nornir.core.task -    ERROR -      start() - Host 'sbx-nxos-mgmt': task 'netmiko_send_command' failed with traceback:
Traceback (most recent call last):
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 1142, in establish_connection
    self.remote_conn_pre.connect(**ssh_connect_params)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 485, in connect
    self._auth(
    ~~~~~~~~~~^
        username,
        ^^^^^^^^^
    ...<9 lines>...
        passphrase,
        ^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 818, in _auth
    raise saved_exception
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\client.py", line 805, in _auth
    self._transport.auth_password(username, password)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\transport.py", line 1638, in auth_password
    return self.auth_handler.wait_for_response(my_event)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\paramiko\auth_handler.py", line 263, in wait_for_response
    raise e
paramiko.ssh_exception.AuthenticationException: Authentication failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\task.py", line 98, in start
    r = self.task(self, **self.params)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir_netmiko\tasks\netmiko_send_command.py", line 26, in netmiko_send_command
    net_connect = task.host.get_connection(CONNECTION_NAME, task.nornir.config)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\inventory.py", line 476, in get_connection
    self.open_connection(
    ~~~~~~~~~~~~~~~~~~~~^
        connection=connection,
        ^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        extras=conn.extras,
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir\core\inventory.py", line 528, in open_connection
    conn_obj.open(
    ~~~~~~~~~~~~~^
        hostname=hostname,
        ^^^^^^^^^^^^^^^^^^
    ...<5 lines>...
        configuration=configuration,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\nornir_netmiko\connections\netmiko.py", line 59, in open
    connection = ConnectHandler(**parameters)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\ssh_dispatcher.py", line 410, in ConnectHandler
    return ConnectionClass(*args, **kwargs)
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 493, in __init__
    self._open()
    ~~~~~~~~~~^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 498, in _open
    self.establish_connection()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\formanesf\AppData\Local\Programs\Python\Python313\Lib\site-packages\netmiko\base_connection.py", line 1179, in establish_connection
    raise NetmikoAuthenticationException(msg)
netmiko.exceptions.NetmikoAuthenticationException: Authentication to device failed.

Common causes of this problem are:
1. Invalid username and password
2. Incorrect SSH-key file
3. Connecting to the wrong device

Device settings: cisco_nxos sbx-nxos-mgmt.cisco.com:22


Authentication failed.

2025-10-28 21:31:19,692 -  nornir.core -     INFO -        run() - Running task 'netmiko_send_command' with args {'command_string': 'show version'} on 2 hosts
